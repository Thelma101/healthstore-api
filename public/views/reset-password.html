<!-- reset-password.html -->
<form id="resetForm">
  <input type="hidden" id="token" value="">
  <input type="password" id="password" required>
  <button type="submit">Reset Password</button>
</form>

<script>
  // Extract token from URL
  const urlParams = new URLSearchParams(window.location.search);
  const token = urlParams.get('token');
  document.getElementById('token').value = token;

  // Handle form submission
  document.getElementById('resetForm').addEventListener('submit', async (e) => {
    e.preventDefault();
    
    const response = await fetch('/api/v1/auth/reset-password/' + token, {
      method: 'POST',
      headers: {
        'Content-Type': 'application/json'
      },
      body: JSON.stringify({
        password: document.getElementById('password').value
      })
    });

    const result = await response.json();
    if (response.ok) {
      alert('Password reset successful!');
      window.location.href = '/login';
    } else {
      alert('Error: ' + result.message);
    }
  });
</script>